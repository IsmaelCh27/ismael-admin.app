<!-- Drawer for small screens -->
@if (sm()) {
  <p-drawer
    [visible]="!visible()"
    styleClass="w-[280px]! "
    transitionOptions="500ms cubic-bezier(1, 1, 1, 1)"
    (onHide)="onHide()"
    [closable]="false"
  >
    <ng-template #header>
      <div class="pb-3 ps-5 flex items-center">
        <div class="w-[35px] h-[35px] bg-primary-500 rounded-full"></div>
        <div [class]="isExpanded() ? 'w-36' : 'w-0'" class="ms-2">
          <span class="text-2xl font-medium">
            ismael.<span class="text-primary-500">app</span></span
          >
        </div>
      </div>
    </ng-template>
    <nav
      role="navigation"
      aria-label="Sidebar Navigation"
      class="flex flex-col items-center justify-between h-full pb-5"
      tabindex="0"
    >
      <div class="w-[200px] mt-5">
        <div class="flex ps-2">
          <div class="overflow-hidden menu-animation mb-3">
            <span class="text-xs text-gray-400 font-light whitespace-nowrap"> MENU PRINCIPAL </span>
          </div>
        </div>

        @for (menu of menus; track menu.link) {
          <a
            [routerLink]="menu.link"
            [routerLinkActiveOptions]="{ exact: true }"
            routerLinkActive="text-primary-500 bg-primary-100"
            class="w-full flex items-center mt-2 h-12 px-3 rounded-lg text-gray-500 hover:bg-primary-100 hover:text-primary-500"
          >
            <lucide-angular [img]="menu.icon" [strokeWidth]="1.3" />
            <span class="ms-3">{{ menu.label }}</span>
          </a>
        }
      </div>

      <a
        [routerLinkActiveOptions]="{ exact: true }"
        routerLinkActive="text-primary-500 bg-primary-100"
        [class]="isExpanded() ? 'w-[190px]' : 'w-12'"
        class="flex items-center h-12 px-3 rounded-lg text-gray-500 hover:bg-primary-100 hover:text-primary-500 menu-animation"
        (click)="handleLogout()"
      >
        <lucide-angular [img]="LogOutIcon" [strokeWidth]="1.3" />
        <div [class]="isExpanded() ? 'w-full' : 'w-0'" class="ps-3 overflow-hidden menu-animation">
          <span class=""> Salir </span>
        </div>
      </a>
    </nav>
  </p-drawer>
} @else {
  <!-- Sidebar for >= sm screens -->
  <div
    [class]="isExpanded() ? 'w-[280px]' : 'w-[75px]'"
    class="surface h-full menu-animation border-r border-r-gray-200"
    role="navigation"
    aria-label="Sidebar"
    tabindex="0"
  >
    <div class="w-full h-full flex flex-col items-center justify-between pb-5 sticky top-0">
      <!-- Menu -->
      <div [class]="isExpanded() ? 'w-[190px]' : 'w-12'" class="menu-animation">
        <div class="py-3 overflow-hidden menu-animation flex items-center">
          <div class="w-[35px] h-[35px] bg-primary-500 rounded-full"></div>
          <div [class]="isExpanded() ? 'w-36' : 'w-0'" class="overflow-hidden menu-animation ms-2">
            <span class="text-2xl font-medium">
              ismael.<span class="text-primary-500">app</span></span
            >
          </div>
        </div>

        <div
          [class]="isExpanded() ? 'w-[190px] ps-3' : 'w-10 ps-1'"
          class="overflow-hidden menu-animation mt-10 mb-4"
        >
          <span class="text-xs text-gray-400 font-light whitespace-nowrap"> MENU PRINCIPAL </span>
        </div>
        @for (menu of menus; track menu.link) {
          <a
            [routerLink]="menu.link"
            [routerLinkActiveOptions]="{ exact: true }"
            routerLinkActive="text-primary-500 bg-primary-100"
            [class]="isExpanded() ? 'w-[190px]' : 'w-12'"
            class="flex items-center h-12 px-3 mt-2 rounded-lg text-gray-500 hover:bg-primary-100 hover:text-primary-500 menu-animation"
            [pTooltip]="menu.label"
            tooltipPosition="right"
            [tooltipOptions]="{ disabled: isExpanded() }"
          >
            <lucide-angular [img]="menu.icon" [strokeWidth]="1.3" />

            <div
              [class]="isExpanded() ? 'w-full' : 'w-0'"
              class="overflow-hidden menu-animation ps-3"
            >
              <span class="">
                {{ menu.label }}
              </span>
            </div>
          </a>
        }
      </div>

      <!-- SignOut -->
      <div [class]="isExpanded() ? 'w-[190px]' : 'w-12'" class="menu-animation mb-3">
        <a
          [routerLinkActiveOptions]="{ exact: true }"
          routerLinkActive="text-primary-500 bg-primary-100"
          [class]="isExpanded() ? 'w-[190px]' : 'w-12'"
          class="flex items-center h-12 px-3 rounded-lg text-gray-500 hover:bg-primary-100 hover:text-primary-500 menu-animation cursor-pointer"
          pTooltip="Salir"
          tooltipPosition="right"
          [tooltipOptions]="{ disabled: isExpanded() }"
          (click)="handleLogout()"
        >
          <lucide-angular [img]="LogOutIcon" [strokeWidth]="1.3" />
          <div
            [class]="isExpanded() ? 'w-full' : 'w-0'"
            class="ps-3 overflow-hidden menu-animation"
          >
            <span class=""> Salir </span>
          </div>
        </a>
      </div>
    </div>
  </div>
}
